---
# from THIS directory, run:
#
# (venv) vtest/ [centos@slurmdeploy vtest]
# $ rm -r ./roles/*
# $ ansible-galaxy install --roles-path ./roles -r requirements_local_env.yml
#
x

#  - name: ansible_wait_30
#    src: git+git@github.nrel.gov:hpc/ansible_wait_30.git
#    type: git

######
# TODO: All the "lex" integration stuff has diverged and need to be re-addressed.
######
  # - name: cluster_config_manager
  #   src: git+git@github.nrel.gov:hpc/cluster_config_manager.git
  #   type: git
  #   version: feature/galaxy-role-install
#
  # - name: cluster_dataset_manager
  #   src: git+git@github.nrel.gov:hpc/cluster_dataset_manager.git
  #   type: git
  #   version: feature/generic_for_vermilion
#
  # - name: sync_slurm_allocations
  #   src: git+git@github.nrel.gov:hpc/sync_slurm_allocations.git
  #   type: git
  #   version: feature/port_from_eagle_to_generic
#
  # - name: slurm_lex_accounting
  #   src: git+git@github.nrel.gov:hpc/slurm_lex_accounting.git
  #   type: git
  #   version: master

---
# from THIS directory, run:
#
# (venv) vtest/ [centos@slurmdeploy vtest]
# $ rm -r ./roles/*
# $ ansible-galaxy install --roles-path ./roles -r requirements_local_env.yml
#

roles:
  - name: vs.core.vastmount
    src: git+https://github.nrel.gov/acoinf/vs.core.vastmount.git
    type: git

  - name: aco.core.motd
    src: git+https://github.nrel.gov/acoinf/aco.core.motd.git
    type: git

  - name: aco.core.logging
    src: git+https://github.nrel.gov/acoinf/aco.core.logging.git
    type: git

  - name: aco.core.cephfs
    src: git+https://github.com/acoinf/aco.core.cephfs
    type: git

  - name: ansible_ipa_ldap_fix
    src: git+https://github.nrel.gov/hpc/ansible_ipa_ldap_fix.git
    type: git

  - name: vstack_admin_config
    src: git+git@github.nrel.gov:hpc/vstack_admin_config.git
    type: git

  - name: vstack_common_config
    src: git+git@github.nrel.gov:hpc/vstack_common_config.git
    type: git

  - name: vermilion_login_nodes
    src: git+git@github.nrel.gov:hpc/vermilion_login_nodes.git
    type: git

  - name: vermilion_control_setup
    src: git+git@github.nrel.gov:hpc/vermilion_control_setup.git
    type: git

  - name: aco.core.ntp
    src: git+https://github.com/acoinf/aco.core.ntp
    type: git

  - name: vs-set-ephemeral-mounts
    src: git+git@github.nrel.gov:hpc/vs-set-ephemeral-mounts.git
    type: git

  - name: vermilion_ldap_client
    src: git+git@github.nrel.gov:hpc/vermilion_ldap_client.git
    type: git

  - name: root_pass_cli
    src: git+git@github.nrel.gov:hpc/root_pass_cli.git
    type: git

  - name: pam_mkhomedir_plus
    src: git+git@github.nrel.gov:hpc/pam_mkhomedir_plus.git
    type: git
    version: master
    #version: feature/ansible-galaxy

  - name: ipaclient
    src: git+git@github.nrel.gov:hpc/ipaclient.git
    type: git

  - name: vs_nvidia_a100_driver_install
    src: git+git@github.nrel.gov:hpc/vs_nvidia_a100_driver_install.git
    type: git

######
# TODO: All the "lex" integration stuff has diverged and need to be re-addressed.
######
  # - name: cluster_config_manager
  #   src: git+git@github.nrel.gov:hpc/cluster_config_manager.git
  #   type: git
  #   version: feature/galaxy-role-install
#
  # - name: cluster_dataset_manager
  #   src: git+git@github.nrel.gov:hpc/cluster_dataset_manager.git
  #   type: git
  #   version: feature/generic_for_vermilion
#
  # - name: sync_slurm_allocations
  #   src: git+git@github.nrel.gov:hpc/sync_slurm_allocations.git
  #   type: git
  #   version: feature/port_from_eagle_to_generic
#
  # - name: slurm_lex_accounting
  #   src: git+git@github.nrel.gov:hpc/slurm_lex_accounting.git
  #   type: git
  #   version: master
